{"version":3,"file":"8.app.js","sources":["webpack:///app/components/layouts/profile.jsx"],"sourcesContent":["import React from 'react';\nimport {Navbar} from '../containers';\nimport {ProfilePersonalInfo} from '../containers';\nimport {ProfileRecentActivityFeed} from '../containers';\nimport {ProfileRecentPostFeed} from '../containers';\nimport {getUserData} from '../../utils';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\n// let debug = require('react-debug');\n\nexport default class Profile extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            user: {},\n            commonFriends: [],\n            value: 0\n        };\n    }\n\n    getData(user){\n        getUserData(user)\n        .then(userData=>{\n            let userFriendsList = userData.data.friends.map((friend)=>{return friend._id;});\n            let currentUserFriendsList = this.props.currUser.friends.map((friend)=>{return friend._id;});\n            let commonFriends = userFriendsList.filter((friend)=>{return currentUserFriendsList.indexOf(friend)!==-1});\n            this.setState({\n                user: userData.data,\n                commonFriends: commonFriends\n            });\n        })\n    }\n\n    componentDidMount(){\n        this.getData(this.props.user);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(JSON.stringify(prevProps.currUser)!==JSON.stringify(this.props.currUser) || \n            prevProps.user!==this.props.user){\n                this.getData(this.props.user);\n            }\n    }\n    \n\n    handleChange = (event, value) => {\n        this.setState({ value:value });\n    };\n\n    render(){\n        return(\n            <div style={{marginTop:'70px'}}>\n                <Navbar user={this.props.currUser}/>\n                <div className=\"container profile\">\n                    <div className=\"row\">\n                        <div className=\"col-md-4\">\n                            <ProfilePersonalInfo user={this.state.user} currentUser={this.props.currUser._id} commonFriends={this.state.commonFriends}/>\n                        </div>\n                        <div className=\"col-md-7 col-md-offset-1\">\n                            <Tabs value={this.state.value}\n                                onChange={this.handleChange}\n                                style={{backgroundColor:'white'}}\n                                indicatorColor=\"primary\"\n                                textColor=\"primary\"\n                                fullWidth centered>\n                                <Tab label=\"Activities\"/>\n                                <Tab label=\"Posts\"/>\n                            </Tabs>\n                            {this.state.value === 0 && <ProfileRecentActivityFeed user={this.props.user} currentUser={this.props.currUser._id}/>}\n                            {this.state.value === 1 && <ProfileRecentPostFeed user={this.props.user} currentUser={this.props.currUser._id}/>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;AAGA;AACA;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAmCA;AACA;AACA;AAnCA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AACA;;;AAOA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AAXA;AAJA;AADA;AAFA;AAwBA;;;;AAlEA;AACA;AADA;;;;A","sourceRoot":""}