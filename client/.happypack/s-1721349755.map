{"version":3,"sources":["app\\profile\\profileRecentActivityItem.js"],"names":["moment","require","ProfileRecentActivityItem","props","state","data","e","preventDefault","button","cb","likeCounter","setState","didUserLike","currentUser","_id","user","i","length","startTime","calendar","endTime","title","type","img","description","handleLikeClick","comments","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;;;AAEA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;IAEqBC,yB;;;AAEnB,qCAAYC,KAAZ,EAAkB;AAAA;;AAAA,sJACVA,KADU;;AAEhB,UAAKC,KAAL,GAAaD,MAAME,IAAnB;AAFgB;AAGjB;;;;oCAEeC,C,EAAE;AAAA;;AAChBA,QAAEC,cAAF;;AAEA,UAAGD,EAAEE,MAAF,KAAa,CAAhB,EAAkB;AAChB,YAAIC,KAAK,SAALA,EAAK,CAACC,WAAD,EAAiB;AACxB,iBAAKC,QAAL,CAAc,EAACD,aAAYA,WAAb,EAAd;AACD,SAFD;;AAIA,YAAG,CAAC,KAAKE,WAAL,CAAiB,KAAKT,KAAL,CAAWU,WAA5B,CAAJ,EAA6C;AAC3C,oCAAa,KAAKT,KAAL,CAAWU,GAAxB,EAA4B,KAAKX,KAAL,CAAWU,WAAvC,EAAmDJ,EAAnD;AACD,SAFD,MAGI;AACF,sCAAe,KAAKL,KAAL,CAAWU,GAA1B,EAA8B,KAAKX,KAAL,CAAWU,WAAzC,EAAqDJ,EAArD;AACD;AACF;AAEF;;;gCAEWM,I,EAAM;AAChB,UAAIL,cAAc,KAAKN,KAAL,CAAWM,WAA7B;;AAEA,WAAK,IAAIM,IAAI,CAAb,EAAgBA,IAAIN,YAAYO,MAAhC,EAAwCD,GAAxC,EAA6C;AAC3C,YAAIN,YAAYM,CAAZ,EAAeF,GAAf,KAAuBC,IAA3B,EACE,OAAO,IAAP;AACH;AACD,aAAO,KAAP;AACD;;;6BAEO;AAAA;;AACN,UAAIG,YAAYlB,OAAO,KAAKI,KAAL,CAAWc,SAAlB,EAA6BC,QAA7B,EAAhB;AACA,UAAIC,UAAUpB,OAAO,KAAKI,KAAL,CAAWgB,OAAlB,EAA2BD,QAA3B,EAAd;AACA,aACE;AAAA;AAAA,UAAK,WAAU,qBAAf;AACE;AAAA;AAAA,YAAK,WAAU,YAAf;AACE;AAAA;AAAA,cAAK,WAAU,KAAf;AACE;AAAA;AAAA,gBAAK,WAAU,WAAf;AACE;AAAA;AAAA,kBAAM,IAAI,qBAAmB,KAAKf,KAAL,CAAWU,GAAxC;AACE;AAAA;AAAA,oBAAK,WAAU,OAAf;AACE;AAAA;AAAA;AAAK,yBAAKV,KAAL,CAAWiB,KAAhB;AAAA;AAAuB;AAAA;AAAA,wBAAM,WAAU,kBAAhB;AAAoC,2BAAKjB,KAAL,CAAWkB;AAA/C;AAAvB,mBADF;AAEGJ,2BAFH;AAAA;AAEgBE;AAFhB;AADF;AADF;AADF,WADF;AAWE;AAAA;AAAA,cAAK,WAAU,aAAf;AACE;AAAA;AAAA,gBAAK,WAAU,YAAf;AACE;AAAA;AAAA,kBAAK,WAAU,OAAf;AACE;AAAA;AAAA,oBAAK,WAAU,YAAf;AACE;AAAA;AAAA,sBAAM,IAAI,qBAAmB,KAAKhB,KAAL,CAAWU,GAAxC;AACE;AAAA;AAAA;AAAQ,6DAAK,WAAU,cAAf,EAA8B,KAAK,KAAKV,KAAL,CAAWmB,GAA9C,EAAmD,OAAM,MAAzD,EAAgE,QAAO,MAAvE,EAA8E,KAAI,EAAlF;AAAR;AADF,mBADF;AAIE;AAAA;AAAA;AACG,yBAAKnB,KAAL,CAAWoB;AADd;AAJF;AADF;AADF,aADF;AAaE;AAAA;AAAA,gBAAK,WAAU,cAAf;AACE;AAAA;AAAA,kBAAK,WAAU,KAAf;AACE;AAAA;AAAA,oBAAK,WAAU,WAAf;AACE;AAAA;AAAA,sBAAG,MAAK,GAAR,EAAY,SAAS,iBAAClB,CAAD;AAAA,+BAAK,OAAKmB,eAAL,CAAqBnB,CAArB,CAAL;AAAA,uBAArB;AAAmD,4DAAM,WAAU,2BAAhB,GAAnD;AAAA;AAAwG,yBAAKF,KAAL,CAAWM,WAAX,CAAuBO;AAA/H,mBADF;AAEE,0DAAM,WAAU,6BAAhB,GAFF;AAAA;AAEyD,uBAAKb,KAAL,CAAWsB,QAAX,CAAoBT;AAF7E;AADF;AADF;AAbF;AAXF;AADF,OADF;AAsCD;;;;EA5EoD,gBAAMU,S;;kBAAxCzB,yB","file":"profileRecentActivityItem.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import React from 'react';\r\nimport {likeActivity, unLikeActivity} from '../server';\r\nimport {Link} from 'react-router';\r\n\r\nvar moment = require('moment');\r\n\r\nexport default class ProfileRecentActivityItem extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = props.data;\r\n  }\r\n\r\n  handleLikeClick(e){\r\n    e.preventDefault();\r\n\r\n    if(e.button === 0){\r\n      var cb = (likeCounter) => {\r\n        this.setState({likeCounter:likeCounter});\r\n      };\r\n\r\n      if(!this.didUserLike(this.props.currentUser)){\r\n        likeActivity(this.state._id,this.props.currentUser,cb);\r\n      }\r\n      else{\r\n        unLikeActivity(this.state._id,this.props.currentUser,cb);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  didUserLike(user) {\r\n    var likeCounter = this.state.likeCounter;\r\n\r\n    for (var i = 0; i < likeCounter.length; i++) {\r\n      if (likeCounter[i]._id === user)\r\n        return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render(){\r\n    var startTime = moment(this.state.startTime).calendar();\r\n    var endTime = moment(this.state.endTime).calendar();\r\n    return(\r\n      <div className=\"panel panel-default\">\r\n        <div className=\"panel-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <Link to={\"activity_detail/\"+this.state._id}>\r\n                <div className=\"media\">\r\n                  <h3>{this.state.title} <span className=\"badge pull-right\">{this.state.type}</span></h3>\r\n                  {startTime}--{endTime}\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className=\"row content\">\r\n            <div className=\"panel-body\">\r\n              <div className=\"media\">\r\n                <div className=\"media-body\">\r\n                  <Link to={\"activity_detail/\"+this.state._id}>\r\n                    <center><img className=\"media-object\" src={this.state.img} width=\"100%\" height=\"100%\" alt=\"\" /></center>\r\n                  </Link>\r\n                  <p>\r\n                    {this.state.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"panel-footer\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  <a href=\"#\" onClick={(e)=>this.handleLikeClick(e)}><span className=\"glyphicon glyphicon-heart\"></span> {this.state.likeCounter.length}</a>\r\n                  <span className=\"glyphicon glyphicon-comment\"></span> {this.state.comments.length}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}