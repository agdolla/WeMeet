{"version":3,"sources":["app\\activity_detail\\ad_body.js"],"names":["moment","require","debug","Ad_body","props","state","activity","ishost","joined","success","user","likeCounter","i","length","_id","e","preventDefault","button","cb","setState","didUserLike","currentUser","comment","newFeedItem","id","activitydata","isHost","checkJoined","author","participants","undefined","filter","emit","authorization","sender","target","getData","buttonText","data","contents","text","name","authorid","type","fullname","split","map","line","p","friends","img","title","startTime","format","location","textAlign","marginRight","paddingTop","paddingBottom","marginBottom","fontSize","handleRequestJoin","handleLikeClick","comments","avatar","handlePostComment","Component"],"mappings":"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","file":"ad_body.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import React from 'React';\r\nimport Ad_comment from './ad_comment';\r\nimport Ad_commentThread from './ad_commentThread';\r\nimport Ad_participates_item from './ad_participates_item';\r\nimport Ad_signeduser from './ad_signeduser'\r\nimport {getActivityDetail} from '../server';\r\nimport {adpostComment,sendJoinActivityRequest} from '../server';\r\nimport {likeActivity} from '../server';\r\nimport {unLikeActivity} from '../server';\r\nimport {Link} from 'react-router';\r\nvar moment = require('moment');\r\nimport {socket,getToken} from '../credentials';\r\nimport {hideElement} from '../util';\r\nvar debug = require('react-debug');\r\n\r\n\r\n\r\nexport default class Ad_body extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      activity: {},\r\n      ishost: \"\",\r\n      joined: false,\r\n      success:false,\r\n    };\r\n  }\r\n\r\n  didUserLike(user) {\r\n    var likeCounter = this.state.activity.likeCounter;\r\n    for (var i = 0; i < likeCounter.length; i++) {\r\n      if (likeCounter[i]._id === user)\r\n        return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  handleLikeClick(e){\r\n    e.preventDefault();\r\n\r\n    if(e.button === 0){\r\n      var cb = (likeCounter) => {\r\n        var activity = this.state.activity;\r\n        activity.likeCounter = likeCounter;\r\n        this.setState(\r\n          {activity:activity}\r\n        );\r\n      };\r\n\r\n      if(!this.didUserLike(this.props.currentUser)){\r\n        likeActivity(this.state.activity._id,this.props.currentUser,cb);\r\n      }\r\n      else{\r\n        unLikeActivity(this.state.activity._id,this.props.currentUser,cb);\r\n      }\r\n    }\r\n  }\r\n\r\n  handlePostComment(comment){\r\n    adpostComment(this.state.activity._id, this.props.currentUser ,comment, (newFeedItem)=>{\r\n      this.setState({activity:newFeedItem});\r\n    })\r\n  }\r\n\r\n  getData(){\r\n    getActivityDetail(this.props.id,(activitydata)=>{\r\n      this.setState({activity:activitydata},()=>{\r\n        if(this.isHost()){\r\n          this.setState({ishost:\"disabled\"});\r\n        }\r\n        if(this.checkJoined()){\r\n          this.setState({ishost:\"disabled\"});\r\n          this.setState({joined:true});\r\n        }\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  isHost(){\r\n    return this.props.currentUser === this.state.activity.author._id;\r\n  }\r\n\r\n\r\n  checkJoined(){\r\n    if(this.state.activity.participants===undefined){\r\n      return false;\r\n    }\r\n    return this.state.activity.participants.filter((user)=>{\r\n      if(user._id===this.props.currentUser)\r\n        return true;\r\n      else return false;\r\n    }).length>0;\r\n  }\r\n\r\n  handleRequestJoin(e){\r\n    e.preventDefault();\r\n    sendJoinActivityRequest(this.props.currentUser,this.state.activity.author._id,  this.state.activity._id,(success)=>{\r\n      if(success){\r\n        socket.emit('notification',{\r\n          authorization:getToken(),\r\n          sender: this.props.currentUser,\r\n          target: this.state.activity.author._id\r\n        });\r\n        this.setState({\r\n          success:true\r\n        });\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    this.getData();\r\n  }\r\n\r\n  render(){\r\n    var buttonText;\r\n    if(this.state.ishost===\"disabled\"&&this.state.joined!=true){\r\n      buttonText = \"You are the host\"\r\n    }\r\n    else if(this.state.ishost===\"disabled\"&&this.state.joined==true){\r\n      buttonText = \"You have joined\"\r\n    }\r\n    else{\r\n        buttonText = \"Click to sign up\"\r\n    }\r\n    var data = this.state.activity\r\n    var contents;\r\n    var text;\r\n    var name;\r\n    var authorid;\r\n    switch(data.type){\r\n      case \"Event\":\r\n      contents = data.contents;\r\n      name = this.state.activity.author.fullname;\r\n      authorid = this.state.activity.author._id;\r\n        text = contents.text.split(\"\\n\").map((line, i) => {\r\n          return (\r\n            <p key={\"line\" + i}>{line}</p>\r\n          )                       ;\r\n        })\r\n          break;\r\n      case \"Entertainment\":\r\n      contents = data.contents;\r\n      name = this.state.activity.author.fullname;\r\n      authorid = this.state.activity.author._id;\r\n        text = contents.text.split(\"\\n\").map((line, i) => {\r\n          return (\r\n            <p key={\"line\" + i}>{line}</p>\r\n          )                       ;\r\n        })\r\n          break;\r\n      case \"Study\":\r\n        contents = data.contents;\r\n        name = this.state.activity.author.fullname;\r\n        authorid = this.state.activity.author._id;\r\n          text = contents.text.split(\"\\n\").map((line, i) => {\r\n            return (\r\n              <p key={\"line\" + i}>{line}</p>\r\n            )                       ;\r\n          })\r\n        break;\r\n      default:\r\n        text = null;\r\n        name = null;\r\n    }\r\n\r\n\r\n    return(\r\n      <div className=\"activityDetail\">\r\n        <div className=\"modal fade\" id=\"myModal\" tabIndex=\"-1\" role=\"dialog\" >\r\n          <div className=\"modal-dialog\" role=\"document\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\" style={{'paddingBottom':'4px'}}>\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                <h3 className=\"modal-title\" style={{'paddingBottom':'10px'}}> Participating users</h3>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <ul className=\"media-list\">\r\n                  {this.state.activity.participants === undefined ? 0:\r\n                    (this.state.activity.participants.length === 0 ? \"No one has signed up yet!\" :\r\n                    this.state.activity.participants.map((p,i)=>{\r\n                    return (\r\n                      <Ad_participates_item key={i} data={p} currUser={this.props.currentUser} friends={this.props.friends} />\r\n                    )\r\n                  }))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className= \"adbackground\" style={{\"backgroundImage\": \"url(\"+this.state.activity.img+\")\"}}>\r\n        </div>\r\n        <div className = \"container\">\r\n          <div className=\"row\">\r\n            <div className = \"col-lg-10 col-md-12 col-sm-12 col-xs-12 col-lg-offset-1\">\r\n              <div className=\"panel panel-default body-title\">\r\n                <div className=\"panel-heading\">\r\n\r\n                  <div className = \"row\">\r\n                    <div className = \"col-md-8\" >\r\n                      <h2 style={{'paddingLeft':'15px'}}>{this.state.activity.title}</h2>\r\n\r\n                      <span className=\"glyphicon glyphicon-time\" style={\r\n                          {'paddingRight':'10px','paddingLeft': '15px'}\r\n                        }></span>\r\n                        {moment(this.state.activity.startTime).format('MMMM Do YYYY, h:mm:ss a')}<br />\r\n\r\n                      <span className=\"glyphicon glyphicon-map-marker\"\r\n                        style={{'paddingRight':'10px','paddingTop':'5px','paddingLeft': '15px'}}>\r\n                      </span>\r\n                      {this.state.activity.location}<br />\r\n                      <span className=\"glyphicon glyphicon-user\"\r\n                        style={{'paddingRight':'10px','paddingTop':'5px','paddingLeft': '15px'}}>\r\n                      </span>\r\n                      <Link to={\"profile/\"+authorid}>\r\n                          {name}\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className = \"col-md-4\" style={{'paddingTop': '20px'}} >\r\n                      <div className = \"col-md-12 col-sm-12 col-xs-12 body-title-signed-in\" align=\"left\">\r\n                        {this.state.activity.participants === undefined ? 0:this.state.activity.participants.length} people <font style={{'color':'grey'}}>signed up</font>\r\n\r\n                      <font style={{'color':'#61B4E4','fontSize':'10px','paddingLeft':'10px','cursor':'pointer'}}\r\n                        data-toggle=\"modal\" data-target=\"#myModal\"  >View All</font>\r\n                      <br/>\r\n\r\n                      {this.state.activity.participants === undefined ? 0:this.state.activity.participants.map((p,i)=>{\r\n                        return (<Ad_signeduser key={i} data={p} />)\r\n                      })}\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className = \"col-md-12 col-sm-12 col-xs-12 remain-places\" style={{'paddingTop':'25px',textAlign:\"center\"}} >\r\n                  <div className={\"alert alert-success\"+hideElement(!this.state.success)}  role=\"alert\" align=\"center\" style={{\r\n                    'marginLeft': '43%',\r\n                     marginRight: '43%',\r\n                     paddingTop: 8,\r\n                     paddingBottom: 8,\r\n                     marginBottom: 7\r\n                  }}><font className={hideElement(!this.state.success)} style={{fontSize:13}}>Request sent!</font></div>\r\n                  <a>  <span className={\"btn btn-default sign-up-btn \"+this.state.ishost} onClick={\r\n                    (e)=>{\r\n                      if(this.state.ishost!==\"disabled\"){\r\n                      this.handleRequestJoin(e)\r\n                      }\r\n                      else{\r\n                        return\r\n                      }\r\n                    }\r\n                  } align=\"center\">\r\n                    {buttonText}\r\n                    </span></a>\r\n\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className = \"col-md-12 col-sm-12 col-xs-12 body-title-icon\" style={{textAlign:\"right\"}}>\r\n                    <a href=\"#\" onClick={(e)=>this.handleLikeClick(e)}><span className=\"glyphicon glyphicon-heart\" style={{'marginRight':'5px'}}></span>\r\n                      {this.state.activity.likeCounter === undefined ? 0:this.state.activity.likeCounter.length}\r\n                    </a>\r\n                    <span className=\"glyphicon glyphicon-comment\" style={{'marginRight':'5px','marginLeft':'20px'}}></span>\r\n                    {this.state.activity.comments === undefined ? 0:this.state.activity.comments.length}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"panel panel-default\">\r\n              <div className=\"panel-heading\">\r\n                <div className=\"container-fluid body-detail\">\r\n                  <h4 style={{'color': 'grey'}}>Activity Details</h4>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\" style={{'paddingTop':'20px'}}>\r\n                      {text}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Ad_commentThread count={this.state.activity.comments === undefined ? 0:this.state.activity.comments.length} user={this.props.currentUser} avatar={this.props.avatar} onPost={(comment)=>this.handlePostComment(comment)}>\r\n      {this.state.activity.comments === undefined ? 0:this.state.activity.comments.map((comment,i)=>{\r\n        return (\r\n          <Ad_comment key={i} data={comment} />\r\n        )\r\n      })}\r\n    </Ad_commentThread>\r\n  </div>\r\n  )\r\n}\r\n\r\n}\r\n"]}