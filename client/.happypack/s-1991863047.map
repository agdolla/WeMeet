{"version":3,"sources":["app\\credentials.js"],"names":["getToken","getUserId","getUserFullName","updateCredentials","isUserLoggedIn","logout","socket","user","localStorage","getItem","_id","fullName","newUser","newToken","setItem","JSON","stringify","parse","undefined","emit","removeItem"],"mappings":";;;;;;QAYgBA,Q,GAAAA,Q;QAUAC,S,GAAAA,S;QAUAC,e,GAAAA,e;QAUAC,iB,GAAAA,iB;QASAC,c,GAAAA,c;QASCC,M,GAAAA,M;;AA5DjB;;;;;;AACA;AACO,IAAIC,0BAAS,uBAAb;AACP;;;AAGC,IAAIC,OAAO,IAAX;AACA;;AAED;;;AAGO,SAASP,QAAT,GAAoB;AACzB,MAAII,gBAAJ,EAAsB;AACpB,WAAOI,aAAaC,OAAb,CAAqB,OAArB,CAAP;AACD;AACD,SAAO,IAAP;AACD;;AAED;;;AAGO,SAASR,SAAT,GAAqB;AAC1B,MAAIG,gBAAJ,EAAsB;AACpB,WAAOG,KAAKG,GAAZ;AACD;AACD,SAAO,IAAP;AACD;;AAED;;;AAGO,SAASR,eAAT,GAA2B;AAChC,MAAIE,gBAAJ,EAAsB;AACpB,WAAOG,KAAKI,QAAZ;AACD;AACD,SAAO,IAAP;AACD;;AAED;;;AAGO,SAASR,iBAAT,CAA2BS,OAA3B,EAAoCC,QAApC,EAA8C;AACnDL,eAAaM,OAAb,CAAqB,OAArB,EAA8BD,QAA9B;AACAL,eAAaM,OAAb,CAAqB,MAArB,EAA6BC,KAAKC,SAAL,CAAeJ,OAAf,CAA7B;AACD;;AAED;;;;AAIO,SAASR,cAAT,GAA0B;AAC/B;AACAG,SAAOQ,KAAKE,KAAL,CAAWT,aAAaC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACA,SAAOF,SAAO,IAAP,IAAeA,SAAOW,SAA7B;AACD;AACD;;;;AAIQ,SAASb,MAAT,GAAkB;AACvBC,SAAOa,IAAP,CAAY,QAAZ,EAAqBZ,KAAKG,GAA1B;AACAF,eAAaY,UAAb,CAAwB,MAAxB;AACAZ,eAAaY,UAAb,CAAwB,OAAxB;AACD","file":"credentials.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import io from 'socket.io-client';\r\n// var debug = require('react-debug');\r\nexport var socket = io();\r\n/**\r\n * Stores authentication credentials.\r\n */\r\n var user = null;\r\n // var debug = require('react-debug');\r\n\r\n/**\r\n * Get the token of the currently authenticated user.\r\n */\r\nexport function getToken() {\r\n  if (isUserLoggedIn()) {\r\n    return localStorage.getItem('token');\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Get the user ID of the currently authenticated user.\r\n */\r\nexport function getUserId() {\r\n  if (isUserLoggedIn()) {\r\n    return user._id;\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Get the full name of the currently authenticated user.\r\n */\r\nexport function getUserFullName() {\r\n  if (isUserLoggedIn()) {\r\n    return user.fullName;\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Update the token and user document of the currently authenticated user.\r\n */\r\nexport function updateCredentials(newUser, newToken) {\r\n  localStorage.setItem('token', newToken);\r\n  localStorage.setItem('user', JSON.stringify(newUser));\r\n}\r\n\r\n/**\r\n * Returns true if the user is logged in.\r\n * You will implement this during the workshop.\r\n */\r\nexport function isUserLoggedIn() {\r\n  // Replace later.\r\n  user = JSON.parse(localStorage.getItem('user'));\r\n  return user!==null && user!==undefined;\r\n}\r\n/**\r\n * Logs the user out.\r\n * You will implement this during the workshop.\r\n */\r\n export function logout() {\r\n   socket.emit('logout',user._id);\r\n   localStorage.removeItem('user');\r\n   localStorage.removeItem('token');\r\n }\r\n"]}