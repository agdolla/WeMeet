{"version":3,"sources":["app\\component\\navbar.js"],"names":["Navbar","props","state","activity","post","chat","notifiction","notified","e","preventDefault","push","on","setState","notification","data","notifyMe","sender","cb","Notification","alert","permission","requestPermission","icon","body","onclick","event","target","close","goToAcitivity","fontSize","marginLeft","color","goToPost","user","avatar","fullname","_id","handleLogOut","search","Component"],"mappings":"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","file":"navbar.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router';\r\nimport {logout} from '../credentials';\r\nimport {hashHistory} from 'react-router'\r\nimport {socket} from '../credentials';\r\nimport {hideElement} from '../util'\r\n// var debug = require('react-debug');\r\n\r\nexport default class Navbar extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      activity:false,\r\n      post:false,\r\n      chat:false,\r\n      notifiction:false,\r\n      notified:false\r\n    }\r\n  }\r\n\r\n  handleLogOut(e){\r\n    e.preventDefault();\r\n    logout();\r\n    hashHistory.push('/');\r\n  }\r\n\r\n  componentDidMount(){\r\n    socket.on('newActivity',()=>{\r\n      this.setState({\r\n        activity:true\r\n      });\r\n    });\r\n\r\n    socket.on('newPost',()=>{\r\n      this.setState({\r\n        post:true\r\n      });\r\n    });\r\n    socket.on('chat',()=>{\r\n      this.setState({\r\n        chat:true\r\n      });\r\n    });\r\n    socket.on('notification',()=>{\r\n      this.setState({\r\n        notification: true\r\n      });\r\n    });\r\n    socket.on('friend request accepted',(data)=>{\r\n      if(!this.state.notified){\r\n        this.notifyMe(data.sender,()=>{\r\n          this.setState({\r\n            notified:false\r\n          })\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  goToAcitivity(e){\r\n    e.preventDefault();\r\n    this.setState({\r\n      activity:false\r\n    });\r\n    hashHistory.push('/activity');\r\n  }\r\n\r\n  goToPost(e){\r\n    e.preventDefault();\r\n    this.setState({\r\n      post:false\r\n    });\r\n    hashHistory.push('/post');\r\n  }\r\n\r\n  goToChat(e){\r\n    e.preventDefault();\r\n    this.setState({\r\n      chat:false\r\n    });\r\n    hashHistory.push('/chat');\r\n  }\r\n\r\n  goToNotification(e){\r\n    e.preventDefault();\r\n    this.setState({\r\n      notification:false\r\n    });\r\n    hashHistory.push('/notification/1');\r\n  }\r\n\r\n  notifyMe(sender,cb) {\r\n    if (!Notification) {\r\n      alert('Desktop notifications not available in your browser. Try Chromium.');\r\n      return;\r\n    }\r\n\r\n    if (Notification.permission !== \"granted\")\r\n      Notification.requestPermission();\r\n    else {\r\n      this.setState({\r\n        notified:true\r\n      });\r\n      var notification = new Notification('WeMeet', {\r\n        icon: 'https://www.w1meet.com/img/logo/mipmap-xxhdpi/ic_launcher.png',\r\n        body: sender+\" accepted your request\"\r\n      });\r\n      notification.onclick = (event)=>{\r\n        event.preventDefault();\r\n        event.target.close();\r\n        hashHistory.push(\"/chat\");\r\n        cb();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n    render(){\r\n      return(\r\n        <div>\r\n          <nav className=\"navbar navbar-default navbar-fixed-top\" role=\"navigation\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"navbar-header\">\r\n                <button type=\"button\" className=\"navbar-toggle\">\r\n                  <span className=\"sr-only\">Toggle navigation</span>\r\n                  <span className=\"icon-bar\"></span>\r\n                  <span className=\"icon-bar\"></span>\r\n                  <span className=\"icon-bar\"></span>\r\n                </button>\r\n                <Link className=\"navbar-brand\" to=\"/activity\">\r\n                  <img src=\"./img/logo/mipmap-xxhdpi/ic_launcher.png\" width=\"50px\" height=\"50px\" alt=\"\" />\r\n                </Link>\r\n              </div>\r\n\r\n              {/* Collect the nav links, forms, and other content for toggling */}\r\n              <div className=\"collapse navbar-collapse\" id=\"navbar\">\r\n                <ul className=\"nav navbar-nav nav-left\">\r\n                  <li className={this.props.activity}>\r\n                    <a onClick={(e)=>this.goToAcitivity(e)}> Activities <i className={\"fa fa-circle \"+hideElement(!this.state.activity)} style={{fontSize:12,marginLeft:'2',color:'#EF9A9A'}}aria-hidden=\"true\"></i>\r\n                    </a>\r\n                  </li>\r\n                  <li className={this.props.post}>\r\n                    <Link onClick={(e)=>this.goToPost(e)}>Trend <i className={\"fa fa-circle \"+hideElement(!this.state.post)} style={{fontSize:12,marginLeft:'2',color:'#EF9A9A'}}aria-hidden=\"true\"></i></Link>\r\n                  </li>\r\n                  <li className={this.props.chat}>\r\n                    <Link to={\"chat\"}>Chat <i className={\"fa fa-circle \"+hideElement(!this.state.chat||this.props.chat===\"active\")} style={{fontSize:12,marginLeft:'2',color:'#EF9A9A'}}aria-hidden=\"true\"></i></Link>\r\n                  </li>\r\n                </ul>\r\n\r\n                <ul className=\"nav navbar-nav navbar-right\">\r\n                  <div className=\"dropdown pull-left\">\r\n                    <a href=\"#\" className=\"dropdown-toggle\" type=\"button\" id=\"user-options\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\r\n                      <img src={this.props.user.avatar} height=\"50px\" alt=\"\" /> {this.props.user.fullname}\r\n                      <span className=\"caret\"></span>\r\n                    </a>\r\n                    <ul className=\"dropdown-menu\" aria-labelledby=\"user-options\">\r\n                      <li><Link to={\"profile/\"+this.props.user._id}><span><i className=\"fa fa-user\" aria-hidden=\"true\"></i></span>Profile</Link></li>\r\n                      <li><Link to=\"settings\"><span><i className=\"fa fa-cog\" aria-hidden=\"true\"></i></span>Settings</Link></li>\r\n                      <li><Link to=\"postactivity\"><span><i className=\"fa fa-pencil\" aria-hidden=\"true\"></i></span>Create Activity</Link></li>\r\n                      <li role=\"separator\" className=\"divider\"></li>\r\n                      <li><a href=\"#\" onClick={(e)=>this.handleLogOut(e)}><span><i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i></span>Log out</a></li>\r\n                    </ul>\r\n                  </div>\r\n                    <li className={this.props.search}>\r\n                      <Link to={\"search\"}><i className=\"fa fa-search\" aria-hidden=\"true\"/></Link>\r\n                    </li>\r\n                    <li className={this.props.notification}>\r\n                      <Link to={\"notification/\"+1}><i className=\"fa fa-bell-o\" aria-hidden=\"true\"></i> <i className={\"fa fa-circle \"+hideElement(!this.state.notification)} style={{fontSize:12,marginLeft:'2',color:'#EF9A9A'}}aria-hidden=\"true\"></i></Link>\r\n                    </li>\r\n                </ul>\r\n              </div>\r\n              {/*.navbar-collapse */}\r\n            </div>\r\n            {/*.container-fluid*/}\r\n          </nav>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n"]}