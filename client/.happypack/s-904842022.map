{"version":3,"sources":["app\\search\\searchFeedUserFeedItem.js"],"names":["SearchFeedUserFeedItem","props","state","data","sucess","nextProps","setState","currentUser","friends","filter","friend","_id","length","e","preventDefault","success","emit","authorization","sender","target","padding","avatar","fullname","description","handleAddFriend","checkFriendsOfUser","color","Component"],"mappings":"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","file":"searchFeedUserFeedItem.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router';\r\nimport {hideElement} from '../util';\r\nimport {addFriend} from '../server';\r\nimport {socket,getToken} from '../credentials';\r\n\r\nexport default class SearchFeedUserFeedItem extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      data: props.data,\r\n      sucess:false\r\n    }\r\n  }\r\n\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    this.setState({\r\n      data: nextProps.data\r\n    });\r\n  }\r\n\r\n  checkFriendsOfUser(){\r\n    return this.props.currentUser.friends.filter((friend)=>{\r\n      if(friend._id===this.state.data._id)\r\n        return true;\r\n      else return false;\r\n    }).length>0;\r\n  }\r\n\r\n  handleAddFriend(e){\r\n    e.preventDefault();\r\n    addFriend(this.props.currentUser._id,this.state.data._id,(success)=>{\r\n      if(success){\r\n        this.setState({\r\n          success:true\r\n        });\r\n\r\n        socket.emit('notification',{\r\n          authorization:getToken(),\r\n          sender: this.props.currentUser._id,\r\n          target: this.state.data._id\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"panel panel-default\" style={{padding: '10'}}>\r\n        <div className={\"alert alert-success \"+hideElement(!this.state.success)} role=\"alert\">Request sent!</div>\r\n        <div className=\"media\">\r\n          <div className=\"media-left\">\r\n            <Link to={\"profile/\"+this.state.data._id}>\r\n              <img className=\"media-object\" src={this.state.data.avatar} width=\"50px\" height=\"50px\" alt=\"...\" />\r\n            </Link>\r\n          </div>\r\n          <div className=\"media-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-8\">\r\n                <h4 className=\"media-heading\">{this.state.data.fullname}</h4>\r\n                {this.state.data.description}\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <a href=\"#\" onClick={(e)=>this.handleAddFriend(e)}><i className={\"fa fa-user-plus pull-right \"+hideElement(this.checkFriendsOfUser()||this.state.data._id===this.props.currentUser._id)} aria-hidden=\"true\"></i></a>\r\n                    <i className={\"fa fa-check pull-right \"+hideElement(!this.checkFriendsOfUser())} style={{color:'green'}} aria-hidden=\"true\"></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}