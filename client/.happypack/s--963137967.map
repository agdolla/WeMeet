{"version":3,"sources":["app\\search\\searchEntry.js"],"names":["SearchEntry","props","state","value","searchDataResult","title","e","preventDefault","setState","target","key","query","trim","user","_id","searchData","handleChange","handleKeyUp","marginBottom","users","undefined","map","i","activities","activity","posts","post","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqBA,W;;;AACnB,uBAAYC,KAAZ,EAAkB;AAAA;;AAAA,0HACVA,KADU;;AAEhB,UAAKC,KAAL,GAAa;AACXC,aAAO,EADI;AAEXC,wBAAiB,EAFN;AAGXC,aAAO;AAHI,KAAb;AAFgB;AAOjB;;;;iCACYC,C,EAAG;AACdA,QAAEC,cAAF;AACA,WAAKC,QAAL,CAAc,EAAEL,OAAOG,EAAEG,MAAF,CAASN,KAAlB,EAAd;AACD;;;gCAEWG,C,EAAG;AAAA;;AACbA,QAAEC,cAAF;AACA,UAAID,EAAEI,GAAF,KAAU,OAAd,EAAuB;AACrB,YAAIC,QAAQ,KAAKT,KAAL,CAAWC,KAAX,CAAiBS,IAAjB,EAAZ;AACA,YAAID,UAAU,EAAd,EAAkB;AAChB,mCAAY,KAAKV,KAAL,CAAWY,IAAX,CAAgBC,GAA5B,EAAgCH,KAAhC,EAAsC,UAACI,UAAD;AAAA,mBAClC,OAAKP,QAAL,CACE;AACEJ,gCAAiBW,UADnB;AAEEV,qBAAO,uBAAqBM,KAArB,GAA2B;AAFpC,aADF,CADkC;AAAA,WAAtC;AAQD;AACF;AACF;;;6BAGO;AAAA;;AACN,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,WAAU,qBAAf;AACE;AAAA;AAAA,cAAK,WAAU,eAAf;AACE;AAAA;AAAA,gBAAK,WAAU,OAAf;AACE;AAAA;AAAA,kBAAK,WAAU,YAAf;AACE,yDAAO,MAAK,MAAZ,EAAmB,WAAU,cAA7B,EAA4C,aAAY,mCAAxD,EAA4F,UAAU,kBAACL,CAAD;AAAA,2BAAO,OAAKU,YAAL,CAAkBV,CAAlB,CAAP;AAAA,mBAAtG;AACF,2BAAS,iBAACA,CAAD;AAAA,2BAAO,OAAKW,WAAL,CAAiBX,CAAjB,CAAP;AAAA,mBADP;AADF;AADF;AADF;AADF,SADF;AAWE;AAAA;AAAA,YAAI,OAAO,EAACY,cAAa,IAAd,EAAX;AAAiC,eAAKhB,KAAL,CAAWG;AAA5C,SAXF;AAaM,aAAKH,KAAL,CAAWE,gBAAX,CAA4Be,KAA5B,KAAqCC,SAArC,GAAiD,EAAjD,GAAsD,KAAKlB,KAAL,CAAWE,gBAAX,CAA4Be,KAA5B,CAAkCE,GAAlC,CAAsC,UAACF,KAAD,EAAOG,CAAP,EAAW;AACrG,iBACE,kEAAwB,KAAKA,CAA7B,EAAgC,MAAMH,KAAtC,EAA6C,aAAa,OAAKlB,KAAL,CAAWY,IAArE,GADF;AAGD,SAJqD,CAb5D;AAqBM,aAAKX,KAAL,CAAWE,gBAAX,CAA4BmB,UAA5B,KAA2CH,SAA3C,GAAuD,EAAvD,GAA4D,KAAKlB,KAAL,CAAWE,gBAAX,CAA4BmB,UAA5B,CAAuCF,GAAvC,CAA2C,UAACG,QAAD,EAAUF,CAAV,EAAc;AACnH,iBACE,4DAAkB,KAAKA,CAAvB,EAA0B,MAAME,QAAhC,GADF;AAGD,SAJ2D,CArBlE;AA4BM,aAAKtB,KAAL,CAAWE,gBAAX,CAA4BqB,KAA5B,KAAsCL,SAAtC,GAAkD,EAAlD,GAAuD,KAAKlB,KAAL,CAAWE,gBAAX,CAA4BqB,KAA5B,CAAkCJ,GAAlC,CAAsC,UAACK,IAAD,EAAMJ,CAAN,EAAU;AACrG,iBACE,wDAAc,KAAKA,CAAnB,EAAsB,MAAMI,IAA5B,EAAkC,aAAa,OAAKzB,KAAL,CAAWY,IAAX,CAAgBC,GAA/D,GADF;AAGD,SAJsD;AA5B7D,OADF;AAqCD;;;;EAtEsC,gBAAMa,S;;kBAA1B3B,W","file":"searchEntry.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import React from 'react';\r\nimport {searchquery} from '../server';\r\nimport ActivityFeedItem from '../activity/activityFeedItem';\r\nimport SearchFeedUserFeedItem from './searchFeedUserFeedItem';\r\nimport PostFeedItem from '../post/postFeedItem';\r\n\r\nexport default class SearchEntry extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      value: \"\",\r\n      searchDataResult:{},\r\n      title: \"\"\r\n    }\r\n  }\r\n  handleChange(e) {\r\n    e.preventDefault();\r\n    this.setState({ value: e.target.value });\r\n  }\r\n\r\n  handleKeyUp(e) {\r\n    e.preventDefault();\r\n    if (e.key === \"Enter\") {\r\n      var query = this.state.value.trim();\r\n      if (query !== \"\") {\r\n        searchquery(this.props.user._id,query,(searchData)=>\r\n            this.setState(\r\n              {\r\n                searchDataResult:searchData,\r\n                title: \"Search result for \"+query+\": \"\r\n              }\r\n            )\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <div className=\"panel panel-default\">\r\n          <div className=\"panel-heading\">\r\n            <div className=\"media\">\r\n              <div className=\"media-body\">\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Welcome to We Meet, please search\" onChange={(e) => this.handleChange(e)}\r\n              onKeyUp={(e) => this.handleKeyUp(e)}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <h4 style={{marginBottom:'10'}}>{this.state.title}</h4>\r\n          {\r\n            this.state.searchDataResult.users=== undefined ? [] : this.state.searchDataResult.users.map((users,i)=>{\r\n              return (\r\n                <SearchFeedUserFeedItem key={i} data={users} currentUser={this.props.user}/>\r\n              )\r\n            })\r\n          }\r\n\r\n          {\r\n            this.state.searchDataResult.activities === undefined ? [] : this.state.searchDataResult.activities.map((activity,i)=>{\r\n              return (\r\n                <ActivityFeedItem key={i} data={activity}/>\r\n              )\r\n            })\r\n          }\r\n          {\r\n            this.state.searchDataResult.posts === undefined ? [] : this.state.searchDataResult.posts.map((post,i)=>{\r\n              return (\r\n                <PostFeedItem key={i} data={post} currentUser={this.props.user._id}/>\r\n              )\r\n            })\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}