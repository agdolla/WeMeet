{"version":3,"sources":["app\\activity_detail\\ad_participates_item.js"],"names":["debug","require","Ad_participates_item","props","state","data","success","e","preventDefault","push","_id","friends","undefined","filter","friend","length","currUser","emit","authorization","sender","target","setState","handleRedirect","avatar","fullname","color","description","textAlign","width","handleAddFriend","checkFriendsOfUser","Component"],"mappings":"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","file":"ad_participates_item.js","sourceRoot":"C:/Users/Vincent/Desktop/wemeet/client","sourcesContent":["import React from 'React';\r\nimport {hashHistory} from 'react-router';\r\nimport {addFriend} from '../server';\r\nimport {hideElement} from '../util';\r\nimport {socket,getToken} from '../credentials';\r\n var debug = require('react-debug');\r\n\r\n\r\nexport default class Ad_participates_item extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      data: props.data,\r\n      success:false\r\n    }\r\n  }\r\n\r\n  handleRedirect(e){\r\n    e.preventDefault();\r\n    hashHistory.push(\"profile/\"+this.props.data._id);\r\n  }\r\n\r\n  checkFriendsOfUser(){\r\n    if(this.props.friends===undefined){\r\n      return false;\r\n    }\r\n    return this.props.friends.filter((friend)=>{\r\n      if(friend._id===this.props.data._id)\r\n        return true;\r\n      else return false;\r\n    }).length>0;\r\n  }\r\n\r\n  handleAddFriend(e){\r\n    e.preventDefault();\r\n    addFriend(this.props.currUser,this.props.data._id,(success)=>{\r\n      if(success){\r\n        socket.emit('notification',{\r\n          authorization:getToken(),\r\n\r\n          sender: this.props.currUser,\r\n          target: this.props.data._id\r\n        });\r\n        this.setState({\r\n          success:true\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n    render(){\r\n      return(\r\n        <li className=\"media ad-media\">\r\n        <div className={\"alert alert-success \"+hideElement(!this.state.success)} role=\"alert\">Request sent!</div>\r\n          <div className=\"media-left\">\r\n            <a onClick={(e)=>this.handleRedirect(e)} data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <img className=\"media-object\" src={this.props.data.avatar} height=\"55px\" alt=\"...\"/>\r\n            </a>\r\n          </div>\r\n          <div className=\"media-body media-top\">\r\n          <h5>  {this.props.data.fullname}</h5>\r\n          <h5 style={{color:'grey'}}>    {this.props.data.description}</h5>\r\n        </div>\r\n        <div className=\"media-body media-right\" style={{textAlign:\"right\",width:'0px'}} >\r\n          <a href=\"#\" onClick={(e)=>this.handleAddFriend(e)}><i className={\"fa fa-user-plus pull-right \"+hideElement(this.checkFriendsOfUser()||this.props.data._id===this.props.currUser)} style={{'paddingRight':'20px'}} aria-hidden=\"true\"></i></a>\r\n          <i className={\"fa fa-check pull-right \"+hideElement(!this.checkFriendsOfUser())} style={{color:'green','paddingRight':'20px','marginTop':'10'}} aria-hidden=\"true\"></i>\r\n        </div>\r\n      </li>\r\n      )\r\n    }\r\n}\r\n"]}